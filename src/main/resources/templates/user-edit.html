<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="#{airline.head}"></title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
	crossorigin="anonymous">
<script
	src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
	integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
	crossorigin="anonymous"></script>
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
	integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
	crossorigin="anonymous"></script>
<link href="/css/body.css" rel="stylesheet">
<link href="/css/navbar.css" rel="stylesheet">
</head>
<body>
	<nav th:replace="~{fragments :: navbar}"></nav>
	<div class="form"> 
		<h1 class="mt-3" style="text-align:center" th:text="#{edit.user.info.lbl}"></h1>
	    <div class="row justify-content-center">
	        <div class="col-md-6">
	            <form action="/user/edit" method="post">
	                <div class="mb-3">
	                    <label for="username" class="form-label" th:text="#{user.username}"></label>
	                    <input type="text" class="form-control" id="username" name="username" th:value="${session.loggedIn.username}">
	                	<div th:if="${username} and ${username} == 'error'" class="text-danger" th:text="#{user.username.error}"></div>
	                	<div th:if="${username} and ${username} == 'exists'" class="text-danger" th:text="#{user.username.exists}"></div>
	                </div>
	                <div class="mb-3">
	                	<input type="hidden" name="id" th:value="${session.loggedIn.id}">
	                    <label for="firstName" class="form-label" th:text="#{user.firstname}"></label>
	                    <input type="text" class="form-control" id="firstName" name="firstName" th:value="${session.loggedIn.firstName}">
	                    <div th:if="${firstName}" class="text-danger" th:text="#{user.firstname.error}"></div>
	                </div>
	                <div class="mb-3">
	                    <label for="lastName" class="form-label" th:text="#{user.lastname}"></label>
	                    <input type="text" class="form-control" id="lastName" name="lastName" th:value="${session.loggedIn.lastName}">
                    	<div th:if="${lastName}" class="text-danger" th:text="#{user.lastname.error}"></div>
	                </div>
	                <div class="mb-3">
	                    <label for="email" class="form-label" th:text="#{user.email}"></label>
	                    <input type="email" class="form-control" id="email" name="email" th:value="${session.loggedIn.email}">
	                    <div th:if="${email} and ${email} == 'error'" class="text-danger" th:text="#{user.email.error}"></div>
	                   <div th:if="${email} and ${email} == 'exists'" class="text-danger" th:text="#{user.email.exists}"></div>
	                </div>
	                <div class="mb-3">
	                    <label for="dob" class="form-label" th:text="#{user.dob}"></label>
	                    <input type="date" class="form-control" id="dob" name="dateOfBirth" required th:value="${session.loggedIn.dateOfBirth}">
	                </div>
	                <div class="d-flex flex-row">
	                    <a class="btn btn-danger w-50 me-1" th:text="#{password.edit.cancel}" href="/user/profile"></a>
	                    <button type="submit" class="btn btn-dark w-50" th:text="#{user.edit.submit}"></button>
	                </div>
	            </form>
	        </div>
    	</div>
	</div>
</body>
</html>
